(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{1622:function(t,v,_){t.exports=_.p+"assets/img/9ed9d30cc45c403b8abb7029b2cc77bf_tplv-k3u1fbpfcp-watermark.50af7fc3.gif"},1623:function(t,v,_){t.exports=_.p+"assets/img/cd500b7b2d1845dbad5668694732c1a2_tplv-k3u1fbpfcp-watermark.39b679d2.gif"},1624:function(t,v,_){t.exports=_.p+"assets/img/03a0999246e748dfbaf0038129d3bfe3_tplv-k3u1fbpfcp-watermark.97f08994.jpg"},1625:function(t,v,_){t.exports=_.p+"assets/img/595d3705ee8a403aa5787d964ed5686d_tplv-k3u1fbpfcp-watermark.8a03027f.jpg"},1626:function(t,v,_){t.exports=_.p+"assets/img/3752796d06964e1a9d642750aad1d248_tplv-k3u1fbpfcp-watermark.ce4ce64c.gif"},1627:function(t,v,_){t.exports=_.p+"assets/img/abded564a141468cb1a5aa2e645ff8bc_tplv-k3u1fbpfcp-watermark.fc67fbee.jpg"},1628:function(t,v,_){t.exports=_.p+"assets/img/be9e27294dbb420f8f6f407b2d0956e5_tplv-k3u1fbpfcp-watermark.950ecd7a.jpg"},2707:function(t,v,_){"use strict";_.r(v);var e=_(46),a=Object(e.a)({},(function(){var t=this,v=t.$createElement,e=t._self._c||v;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"sourcemap的作用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sourcemap的作用"}},[t._v("#")]),t._v(" sourceMap的作用")]),t._v(" "),e("p",[t._v("通常,js代码出错,控制台会提示第几行第几列代码出错。但是webpack打包压缩后的代码，都被压缩到了一行，变量也变成了a,b,c,d。代码出错，控制台就没办法正确的提示错误位置。\n"),e("img",{attrs:{src:_(1622),alt:"sourceMap1"}}),t._v("\nsourceMap就可以解决这个问题。sourceMap就是一个信息文件，里面存储着打包前的位置信息。也就是说转换后的代码的每一个位置，所对应的转换前的位置。具体编码,"),e("a",{attrs:{href:"https://link.juejin.cn/?target=http%3A%2F%2Fwww.ruanyifeng.com%2Fblog%2F2013%2F01%2Fjavascript_source_map.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("可以看下阮一峰的文章"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("有了它，出错的时候，浏览器控制台将直接显示原始代码出错的位置，而不是转换后的代码，点击出错信息将直接跳转到原始代码位置\n"),e("img",{attrs:{src:_(1623),alt:"使用sourceMap"}})]),t._v(" "),e("h2",{attrs:{id:"sourcemap的调试"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sourcemap的调试"}},[t._v("#")]),t._v(" sourceMap的调试")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("Console直接点击错误提示跳转到源码(如上图所示)\n一般浏览器会默认开启sourceMap调试，如果控制台不能显示源码错误位置，则需要打开配置。\n"),e("img",{attrs:{src:_(1624),alt:"浏览器设置"}}),t._v(" "),e("img",{attrs:{src:_(1625),alt:"浏览器设置1"}}),t._v("\n打开浏览器的这个设置后，控制台的Console面板的错误提示，直接点击就会跳转到对应的源文件出错位置。")])]),t._v(" "),e("li",[e("p",[t._v("Source面板找到源文件，进行断点调试\n如果Console没报错，但是也没显示不正确。可以点击控制台的Source面板，源文件都在webpack://目录下，或者直接搜索文件，打开源文件进行断点调试。")])])]),t._v(" "),e("blockquote",[e("p",[t._v("按需加载的路由，只有页面加载了，源文件才会在这个目录下显示\n"),e("img",{attrs:{src:_(1626),alt:"source源文件"}})])]),t._v(" "),e("h2",{attrs:{id:"webpack配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#webpack配置"}},[t._v("#")]),t._v(" webpack配置")]),t._v(" "),e("p",[t._v("vue-cli3的vue.config.js文件:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("module.exports = {\n  productionSourceMap: false, // 默认是true\n}\n")])])]),e("p",[t._v("打包后的文件\n"),e("img",{attrs:{src:_(1627),alt:"打包后的文件"}})]),t._v(" "),e("p",[t._v("对于打包后的sourceMap，"),e("a",{attrs:{href:"https://webpack.docschina.org/configuration/devtool/#devtool",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack提供多重类型的配置"),e("OutboundLink")],1)]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("devtool")]),t._v(" "),e("th",[t._v("构建速度")]),t._v(" "),e("th",[t._v("重新构建速度")]),t._v(" "),e("th",[t._v("生成环境")]),t._v(" "),e("th",[t._v("品质(quality)")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("(none)")]),t._v(" "),e("td",[t._v("+++")]),t._v(" "),e("td",[t._v("+++")]),t._v(" "),e("td",[t._v("yes")]),t._v(" "),e("td",[t._v("打包后的代码")])]),t._v(" "),e("tr",[e("td",[t._v("eval")]),t._v(" "),e("td",[t._v("+++")]),t._v(" "),e("td",[t._v("+++")]),t._v(" "),e("td",[t._v("no")]),t._v(" "),e("td",[t._v("打包后的代码")])]),t._v(" "),e("tr",[e("td",[t._v("cleap-eval-source-map")]),t._v(" "),e("td",[t._v("+")]),t._v(" "),e("td",[t._v("++")]),t._v(" "),e("td",[t._v("no")]),t._v(" "),e("td",[t._v("打包后的代码(仅限行)")])]),t._v(" "),e("tr",[e("td",[t._v("cleap-module-eval-source-map")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("++")]),t._v(" "),e("td",[t._v("no")]),t._v(" "),e("td",[t._v("原始源代码(仅限行)")])]),t._v(" "),e("tr",[e("td",[t._v("eval-source-map")]),t._v(" "),e("td",[t._v("--")]),t._v(" "),e("td",[t._v("+")]),t._v(" "),e("td",[t._v("no")]),t._v(" "),e("td",[t._v("原始源代码")])]),t._v(" "),e("tr",[e("td",[t._v("cheap-source-map")]),t._v(" "),e("td",[t._v("+")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("yes")]),t._v(" "),e("td",[t._v("转换过的代码(仅限行)")])]),t._v(" "),e("tr",[e("td",[t._v("cheap-moudule-source-map")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("yes")]),t._v(" "),e("td",[t._v("原始源代码(仅限行)")])]),t._v(" "),e("tr",[e("td",[t._v("inline-cheap-source-map")]),t._v(" "),e("td",[t._v("+")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("no")]),t._v(" "),e("td",[t._v("转换过的代码(仅限行)")])]),t._v(" "),e("tr",[e("td",[t._v("inline-cheap-module-source-map")]),t._v(" "),e("td",[t._v("o")]),t._v(" "),e("td",[t._v("-")]),t._v(" "),e("td",[t._v("no")]),t._v(" "),e("td",[t._v("原始源代码(仅限行)")])]),t._v(" "),e("tr",[e("td",[t._v("source-map")]),t._v(" "),e("td",[t._v("--")]),t._v(" "),e("td",[t._v("--")]),t._v(" "),e("td",[t._v("yes")]),t._v(" "),e("td",[t._v("原始源代码")])]),t._v(" "),e("tr",[e("td",[t._v("inline-source-map")]),t._v(" "),e("td",[t._v("--")]),t._v(" "),e("td",[t._v("--")]),t._v(" "),e("td",[t._v("no")]),t._v(" "),e("td",[t._v("原始源代码")])]),t._v(" "),e("tr",[e("td",[t._v("hidden-source-map")]),t._v(" "),e("td",[t._v("--")]),t._v(" "),e("td",[t._v("--")]),t._v(" "),e("td",[t._v("yes")]),t._v(" "),e("td",[t._v("原始源代码")])]),t._v(" "),e("tr",[e("td",[t._v("nosources-source-map")]),t._v(" "),e("td",[t._v("--")]),t._v(" "),e("td",[t._v("--")]),t._v(" "),e("td",[t._v("yes")]),t._v(" "),e("td",[t._v("无源代码内容")])])])]),t._v(" "),e("blockquote",[e("p",[t._v("+++ 非常快速 ++ 快速 + 比较快 o 中等 - 比较慢 -- 慢")])]),t._v(" "),e("p",[t._v("其中，开发环境使用:")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("eval: 会把每个模块封装到eval里包裹起来执行，并且会在末尾追加map文件的地址。map文件映射到转换后的代码(可执行的js文件)，而不是映射到原始文件(vue文件)，所以不能正确的显示错误行数\n"),e("img",{attrs:{src:_(1628),alt:"eval"}})])]),t._v(" "),e("li",[e("p",[t._v("eval-source-map: 和eval类似，为每个模块生成原始的sourceMap，map文件会以dataURL的形式添加到js中(类似于图片的base64形式)。原始的sourceMap可以争取提示错误行数")])]),t._v(" "),e("li",[e("p",[t._v("cheap-module-eval-source-map: 与eval-cheap-source-map相同,但是包含了不同loader模块之间的sourceMap")])])]),t._v(" "),e("h2",{attrs:{id:"资料"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#资料"}},[t._v("#")]),t._v(" 资料")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://juejin.cn/post/6844903971648372743",target:"_blank",rel:"noopener noreferrer"}},[t._v("你所不知道的sourceMap"),e("OutboundLink")],1)])])}),[],!1,null,null,null);v.default=a.exports}}]);