(window.webpackJsonp=window.webpackJsonp||[]).push([[649],{2660:function(s,t,e){"use strict";e.r(t);var a=e(46),n=Object(a.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("p",[s._v("在使用node.js开发过程中经常会用到第三方包，在const express = require('express')这句脚本运行的时，node.js是怎样找到express这个模块的呢？")]),s._v(" "),e("p",[s._v("加入我们的项目目录是这样的")]),s._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("D")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("workspace"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("node_test"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("  # 项目目录\n\nmain"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js             # 主程序\n\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" node_modules"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("         # 存放第三方包\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" express"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("         # 下载的第三方包\n    index"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js         # 第三方包的默认入口程序\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("json         # 第三方包的"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("json文件\n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("lock"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("json          # 元数据文件\n\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("README")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("md            # 说明文件\n")])])]),e("p",[s._v("步骤如下")]),s._v(" "),e("ol",[e("li",[e("span",{staticStyle:{color:"blue"}},[s._v("当主程序执行到const express = require('express')这句的时候，会首先在主程序main.js同级目录下查找node_modules目录。")])]),s._v(" "),e("li",[e("span",{staticStyle:{color:"blue"}},[s._v("然后在node_modules目录下查找express包目录")])]),s._v(" "),e("li",[e("span",{staticStyle:{color:"blue"}},[s._v("然后在express包目录下的package.json文件中找到main属性，main属性的值就是要加载的文件")])]),s._v(" "),e("li",[e("span",{staticStyle:{color:"blue"}},[s._v("如果express包目录下没有package.json文件，或者package.json文件中没有main属性，则会默认加载express包目录下的index.js文件")])]),s._v(" "),e("li",[e("span",{staticStyle:{color:"blue"}},[s._v("如果以上方式没有找到，则会从上一级目录中开始查找node_modules文件夹")])]),s._v(" "),e("li",[e("span",{staticStyle:{color:"blue"}},[s._v("重复2-5")])]),s._v(" "),e("li",[e("span",{staticStyle:{color:"blue"}},[s._v("如果一直当前盘根目录下(比如D://)都没有找到，则会报错:Error:Connt find module 'express';")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);