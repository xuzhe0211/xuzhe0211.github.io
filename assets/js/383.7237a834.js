(window.webpackJsonp=window.webpackJsonp||[]).push([[383],{2156:function(e,a,t){"use strict";t.r(a);var s=t(46),r=Object(s.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h2",{attrs:{id:"ä»‹ç»"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä»‹ç»"}},[e._v("#")]),e._v(" ä»‹ç»")]),e._v(" "),t("p",[e._v("å…³äºDockerçš„ä¸€äº›ç¬”è®°")]),e._v(" "),t("blockquote",[t("p",[e._v("Dockeråˆ©ç”¨äº†Linuxå†…æ ¸ç‰¹æ€§å‘½åç©ºé—´(namespace)åŠæ§åˆ¶ç»„(cgroups)ç­‰ä¸ºå®¹å™¨æä¾›éš”ç¦»çš„è¿è¡Œç¯å¢ƒ")])]),e._v(" "),t("h2",{attrs:{id:"ä½¿ç”¨è„šæœ¬å¿«é€Ÿå¯ç”¨docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨è„šæœ¬å¿«é€Ÿå¯ç”¨docker"}},[e._v("#")]),e._v(" ä½¿ç”¨è„šæœ¬å¿«é€Ÿå¯ç”¨Docker")]),e._v(" "),t("p",[e._v("åœ¨è¿‡å»å¸¸å¸¸æ‰‹åŠ¨å®‰è£…ï¼Œç°åœ¨å·²ç»å®Œå…¨åˆ‡æ¢ä¸ºè„šæœ¬å½¢å¼äº†")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("curl -fsSL https://get.docker.com -o get-docker.sh\n\nsudo sh get-docker.sh\n# æ›¿æ¢æº\n# sudo sh get-docker.sh --mirror Aliyun\n# sudo sh get-docker.sh --mirror AzureChinaCloud\n")])])]),t("p",[e._v("å¦‚æœæ‹…å¿ƒè„šæœ¬å¼‚å¸¸ï¼Œå¯ä»¥ä¸‹è½½å¹¶è¿›è¡Œå®¡æ ¸")]),e._v(" "),t("p",[e._v("æ¥ç€å°±å¯ä»¥å¼€å§‹æ„‰å¿«çš„ä½¿ç”¨äº†ï¼Œä¾‹è¡Œä¹ æƒ¯Hello World:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('docker run hello-world\n\n# è¾“å‡º\nHello from Docker!\nThis message shows that your installation appears to be working correctly.\n\nTo generate this message, Docker took the following steps:\n 1. The Docker client contacted the Docker daemon.\n 2. The Docker daemon pulled the "hello-world" image from the Docker Hub.\n    (amd64)\n 3. The Docker daemon created a new container from that image which runs the\n    executable that produces the output you are currently reading.\n 4. The Docker daemon streamed that output to the Docker client, which sent it\n    to your terminal.\n\nTo try something more ambitious, you can run an Ubuntu container with:\n $ docker run -it ubuntu bash\n\nShare images, automate workflows, and more with a free Docker ID:\n https://hub.docker.com/\n\nFor more examples and ideas, visit:\n https://docs.docker.com/get-started/\n')])])]),t("h2",{attrs:{id:"åˆå§‹åŒ–dockerç¯å¢ƒ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#åˆå§‹åŒ–dockerç¯å¢ƒ"}},[e._v("#")]),e._v(" åˆå§‹åŒ–Dockerç¯å¢ƒ")]),e._v(" "),t("h3",{attrs:{id:"è®¾ç½®ç”¨æˆ·ç»„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#è®¾ç½®ç”¨æˆ·ç»„"}},[e._v("#")]),e._v(" è®¾ç½®ç”¨æˆ·ç»„")]),e._v(" "),t("p",[e._v("ä¸ºäº†é¿å…æ¯æ¬¡ä½¿ç”¨Dockeréƒ½éœ€è¦åˆ‡æ¢åˆ°sudoï¼Œå¯ä»¥å°†dockeråŠ å…¥å½“å‰ç”¨æˆ·ï¼Œé‡æ–°ç™»å½•åç”Ÿæ•ˆ")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("sudo groupadd docker\n\nsudo usermod -aG docker $USER\n#or\nsudo usermod -aG docker USER_NAME\n")])])]),t("h3",{attrs:{id:"é•œåƒåŠ é€Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é•œåƒåŠ é€Ÿ"}},[e._v("#")]),e._v(" é•œåƒåŠ é€Ÿ")]),e._v(" "),t("p",[e._v("é•œåƒæœåŠ¡å¯ç”¨:")]),e._v(" "),t("ol",[t("li",[t("a",{attrs:{href:"https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors?accounttraceid=b7ab50df669847d08a7e5403de064166sqca",target:"_blank",rel:"noopener noreferrer"}},[e._v("é˜¿é‡Œäº‘é•œåƒæœåŠ¡"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://sf.163.com/help/documents/56918246390157312",target:"_blank",rel:"noopener noreferrer"}},[e._v("ç½‘æ˜“äº‘é•œåƒæœåŠ¡"),t("OutboundLink")],1)])]),e._v(" "),t("p",[e._v("ä¿®æ”¹æœ¬åœ°çš„/etc/docker/daemon.jsonå¹¶ä¿®æ”¹registry-mirrors, å¯ä¸ºå…¶é…ç½®å¤šä¸ªé¿å…æŸä¸ªæŒ‚æ‰ï¼š")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('{\n    "registry-mirrors": [\n        "https://hub-mirror.c.163.com"\n    ]\n}\n')])])]),t("h3",{attrs:{id:"ä¿®æ”¹å­˜å‚¨è·¯å¾„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¿®æ”¹å­˜å‚¨è·¯å¾„"}},[e._v("#")]),e._v(" ä¿®æ”¹å­˜å‚¨è·¯å¾„")]),e._v(" "),t("p",[e._v("é€šè¿‡docker info å¯ä»¥çœ‹åˆ°é»˜è®¤è·¯å¾„ /var/lib/docker, è€Œä¸€èˆ¬æœåŠ¡å™¨ä¼šé¢å¤–æŒ‚è½½ç¡¬ç›˜ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('# ä¿®æ”¹é…ç½®æ–‡ä»¶\nvim /etc/docker/daemon.json\n\n# å¢åŠ \n{\n    "data-root": "/path/to/docker"\n}\n\n# é‡å¯docker\nsystemctl restart docker\n')])])]),t("p",[e._v("æ‰§è¡Œ docker infoè¿›è¡Œæ ¡éªŒã€‚")]),e._v(" "),t("h2",{attrs:{id:"çƒ­é—¨é•œåƒ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#çƒ­é—¨é•œåƒ"}},[e._v("#")]),e._v(" çƒ­é—¨é•œåƒ")]),e._v(" "),t("h3",{attrs:{id:"busybox"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#busybox"}},[e._v("#")]),e._v(" Busybox")]),e._v(" "),t("p",[e._v("ä»¥å‰å¸¸å¸¸ä¼šç”¨ubuntuæ¥æµ‹è¯•ä¸€äº›å‘½ä»¤è¡Œå·¥å…·ï¼Œç°åœ¨æœ‰äº†æ›´å¥½çš„é€‰æ‹©")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("# --rm ç”¨å®Œå³åˆ \ndocker run -it --rm busybox\n")])])]),t("h3",{attrs:{id:"node-js"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-js"}},[e._v("#")]),e._v(" Node.js")]),e._v(" "),t("p",[e._v("ä»è¿™é‡ŒåŸºæœ¬å¯ä»¥äº†è§£åˆ°è¿™äº›é•œåƒåªæ˜¯åœ¨Docker Engineä¸Šå¢åŠ äº†ä¸€äº›ä¾èµ–,ç„¶åä½ åˆåŸºäºè¿™äº›ä¾èµ–æ­å»ºä½ çš„ç¯å¢ƒï¼Œå¯ä»¥çœ‹çœ‹"),t("a",{attrs:{href:"https://hub.docker.com/layers/node/library/node/erbium-buster-slim/images/sha256-c6ad96c5345c1a714e0052d08d83635c8e422ea0d103adc7f9f2df4fcfb7fe2d?context=explore",target:"_blank",rel:"noopener noreferrer"}},[e._v("Node Images Layers"),t("OutboundLink")],1),e._v("åŠ æ·±è¯¥æ¦‚å¿µ")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("# è¿½åŠ  bashï¼Œå¦åˆ™ä¼šç›´æ¥è¿›å…¥node\ndocker run -it --rm node:slim bash\n")])])]),t("h3",{attrs:{id:"nginx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx"}},[e._v("#")]),e._v(" Nginx")]),e._v(" "),t("p",[e._v("å¿«é€Ÿæµ‹è¯•æœ¬åœ°æ‰“åŒ…å¥½çš„é™æ€æ–‡ä»¶ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("docker run --rm \\\n    -p 8080:80 \\\n    -v /dir/dist/:/usr/share/nginx/html \\\n    nginx\n")])])]),t("h3",{attrs:{id:"mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql"}},[e._v("#")]),e._v(" MySQL")]),e._v(" "),t("p",[e._v("æŒ‡å®šå¯†ç ")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("docker run --rm \\\n    -p 33006:3306 \\\n    -e MYSQL_ROOT_PASSWORD=mypasswd \\\n  mysql\n")])])]),t("h3",{attrs:{id:"mongo"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mongo"}},[e._v("#")]),e._v(" Mongo")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("docker run -d \\\n    -p 27017:27017 \\\n    --name some-mongo \\\n    mongo --auth\n")])])]),t("h3",{attrs:{id:"redis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#redis"}},[e._v("#")]),e._v(" Redis")]),e._v(" "),t("p",[e._v("æŒ‡å®šå¯†ç ")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('docker run -d \\\n    -p 6379:6379 \\\n    --name some-redis \\\n    redis --requirepass "redispwd"\n')])])]),t("h2",{attrs:{id:"dockeråŸºæœ¬æ“ä½œ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dockeråŸºæœ¬æ“ä½œ"}},[e._v("#")]),e._v(" dockeråŸºæœ¬æ“ä½œ")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# å¯åŠ¨")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" systemctl start docker\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ä¿®æ”¹æº")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("vim")]),e._v(" /etc/docker/daemon.json\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" systemctl daemon-reload\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# é‡å¯")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" systemctl restart docker\n\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" systemctl start docker "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# å¯åŠ¨")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" systemctl daemon-reload "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# å®ˆæŠ¤è¿›ç¨‹é‡å¯")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" systemctl restart docker "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# é‡å¯docker æœåŠ¡")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" systemctl stop docker "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# å…³é—­ docker")]),e._v("\n")])])]),t("h2",{attrs:{id:"ç§»é™¤docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç§»é™¤docker"}},[e._v("#")]),e._v(" ç§»é™¤docker")]),e._v(" "),t("p",[e._v("å¦‚æœåœ¨ä¹‹å‰ä¿®æ”¹äº†å­˜å‚¨è·¯å¾„ï¼Œåˆ™æ ¹æ®å½“å‰æƒ…å†µè¿›è¡Œä¿®æ”¹")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("# Ubuntu\nsudo apt-get purge docker-ce docker-ce-cli containerd.io\n# CentOS\nsudo yum remove docker-ce docker-ce-cli containerd.io\n\n# è¿˜æœ‰ imagesã€containersã€volumesã€and configurations\nsudo rm -rf /var/lib/docker\n")])])]),t("h2",{attrs:{id:"dockerå°†å®¹å™¨æ‰“åŒ…æˆé•œåƒå¹¶ä¼ è¾“åˆ°å…¶ä»–æœåŠ¡å™¨éƒ¨ç½²"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dockerå°†å®¹å™¨æ‰“åŒ…æˆé•œåƒå¹¶ä¼ è¾“åˆ°å…¶ä»–æœåŠ¡å™¨éƒ¨ç½²"}},[e._v("#")]),e._v(" dockerå°†å®¹å™¨æ‰“åŒ…æˆé•œåƒå¹¶ä¼ è¾“åˆ°å…¶ä»–æœåŠ¡å™¨éƒ¨ç½²")]),e._v(" "),t("h3",{attrs:{id:"ä»å®¹å™¨åˆ›å»ºä¸€ä¸ªé•œåƒ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä»å®¹å™¨åˆ›å»ºä¸€ä¸ªé•œåƒ"}},[e._v("#")]),e._v(" ä»å®¹å™¨åˆ›å»ºä¸€ä¸ªé•œåƒ")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("docker commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]]\n")])])]),t("p",[e._v("OPTIONSè¯´æ˜:")]),e._v(" "),t("ul",[t("li",[e._v("-a:æäº¤çš„é•œåƒä½œè€…")]),e._v(" "),t("li",[e._v("-c:ä½¿ç”¨DockerFileæŒ‡ä»¤æ¥åˆ›å»ºé•œåƒ")]),e._v(" "),t("li",[e._v("-m:æäº¤æ—¶çš„è¯´æ˜æ–‡å­—")]),e._v(" "),t("li",[e._v("-p:åœ¨commitæ—¶ï¼Œå°†å®¹å™¨æš‚åœ")])]),e._v(" "),t("p",[e._v("ä¾‹å­ğŸŒ°")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("// ä¾‹1\ndocker commit -a 'runoob.com' -m 'my apache' a404c6c174a2  mymysql:v1 \n\n// ä¾‹2\ndocker commit -m '' -a '' [CONTAINER ID] [ç»™æ–°çš„é•œåƒçš„å‘½å]\n\ndocker commit -m '' -a '' aa myelastcsearch:1.0\n")])])]),t("h3",{attrs:{id:"æ‰“åŒ…ä¸€ä¸ªé•œåƒ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ‰“åŒ…ä¸€ä¸ªé•œåƒ"}},[e._v("#")]),e._v(" æ‰“åŒ…ä¸€ä¸ªé•œåƒ")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("docker save [OPTIONS] IMAGE [IMAGE...]\n\ndocker save -o my_ubuntu_v3.tar runoob/ubuntu:v3\n")])])]),t("h3",{attrs:{id:"é•œåƒè¿œç¨‹æ‹·è´"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é•œåƒè¿œç¨‹æ‹·è´"}},[e._v("#")]),e._v(" é•œåƒè¿œç¨‹æ‹·è´")]),e._v(" "),t("p",[e._v("ä½¿ç”¨scpä¼ è¾“è‡³å…¶ä»–æœåŠ¡å™¨")]),e._v(" "),t("p",[t("strong",[e._v("ä»æœ¬åœ°å¤åˆ¶åˆ°è¿œç¨‹")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("scp local_file remote_username@remote_ip:remote_folder\næˆ–è€… \nscp local_file remote_username@remote_ip:remote_file \næˆ–è€… \nscp local_file remote_ip:remote_folder \næˆ–è€… \nscp local_file remote_ip:remote_file \n")])])]),t("p",[t("strong",[e._v("ä»è¿œç¨‹å¤åˆ¶åˆ°æœ¬åœ°")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("scp root@www.runoob.com:/home/root/others/music /home/space/music/1.mp3 \nscp -r www.runoob.com:/home/root/others/ /home/space/music/\n")])])]),t("h3",{attrs:{id:"æ–°æœåŠ¡å™¨è½½å…¥é•œåƒ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ–°æœåŠ¡å™¨è½½å…¥é•œåƒ"}},[e._v("#")]),e._v(" æ–°æœåŠ¡å™¨è½½å…¥é•œåƒ")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("docker load [OPTIONS]\n")])])]),t("p",[e._v("OPTIONSè¯´æ˜")]),e._v(" "),t("ul",[t("li",[e._v("--input,-i:æŒ‡å®šå¯¼å…¥çš„æ–‡ä»¶ï¼Œä»£æ›¿STDIN")]),e._v(" "),t("li",[e._v("--quiet,-qï¼šç²¾ç®€è¾“å‡ºä¿¡æ¯")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("docker load --input fedora.tar\n")])])]),t("p",[t("RouterLink",{attrs:{to:"/back-end/Node/#dockeræ¦‚å¿µ"}},[e._v("dockeræ„å»ºä¸€ä¸ªnginxæœåŠ¡å™¨")])],1),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[e._v("docker tag node:18-alpine xxx.xxx.xxx.com/base/node:18-alpine\ndocker push xxx.xxx.xxx.com/base/node:18-alpine\n")])])]),t("h2",{attrs:{id:"å‚è€ƒèµ„æ–™"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒèµ„æ–™"}},[e._v("#")]),e._v(" å‚è€ƒèµ„æ–™")]),e._v(" "),t("ol",[t("li",[t("a",{attrs:{href:"https://docs.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://docs.docker.com/engine/reference/commandline/docker/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker Commands"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("ã€ŠDockeræŠ€æœ¯å…¥é—¨ä¸å®è·µ(ç¬¬ä¸‰ç‰ˆ)ã€‹")]),e._v(" "),t("li",[e._v("ã€Šè‡ªåŠ¨åŠ¨æ‰‹å†™Dockerã€‹")]),e._v(" "),t("li",[t("a",{attrs:{href:"https://docs.shanyuhai.top/backend/docker/#%E4%BB%8B%E7%BB%8D",target:"_blank",rel:"noopener noreferrer"}},[e._v("å½“å‰æºæ–‡æ¡£"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=r.exports}}]);