(window.webpackJsonp=window.webpackJsonp||[]).push([[323],{1306:function(s,t){s.exports="data:image/png;base64,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"},2570:function(s,t,a){"use strict";a.r(t);var n=a(46),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[s._v("本文目标")]),s._v(" "),n("ul",[n("li",[s._v("更加深入的理解和掌握泛型")]),s._v(" "),n("li",[s._v("更加熟练这些内置工具类型在项目中的运用")])]),s._v(" "),n("h2",{attrs:{id:"exclude"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#exclude"}},[s._v("#")]),s._v(" Exclude")]),s._v(" "),n("p",[s._v("Exclude<T, U>: 作用简单说就是把T里面的U去掉，在返回T里还剩下的。T 和 U必须是同种类型(具体类型/字面量类型)。如下")]),s._v(" "),n("div",{staticClass:"language-ts extra-class"},[n("pre",{pre:!0,attrs:{class:"language-ts"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("type")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("T1")])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Exclude"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("number")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("string")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// type T1 = number;")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 上面这个肯定一看就懂，那下面这样呢？")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("type")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("T2")])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Exclude"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'b'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'c'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'b'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'d'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// type T2 = 'a' | 'c'; ")]),s._v("\n")])])]),n("p",[s._v("怎么就剩下 a | c了？这怎么执行的？")]),s._v(" "),n("p",[s._v("先看一张图\n"),n("img",{attrs:{src:a(1306),alt:"Exclude"}})]),s._v(" "),n("p",[s._v("三元表达式大家都知道，不是返回a 就返回 b,这么算的话，这个some的类型应该是b才对呀，可这个结果是 a | b 又是怎么回事呢？这都是由于 TS 中的 拆分 或者说叫 分发机制导致的")]),s._v(" "),n("p",[n("span",{staticStyle:{color:"red"}},[s._v("简单说就是"),n("strong",[s._v("联合类型并且是裸类型就会产生分发，分发就会把联合类型中的每一个类型单独拿去判断，最后返回结果组成的联合类型")])]),s._v("， a | b 就是这么来的，这个特性在本文后面会提到多次所以铺垫一下，这也是为什么反 Exclude 放在开头的原因")]),s._v(" "),n("p",[s._v("结合 Exclude 的实现和例子来理解下")]),s._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 源码定义")]),s._v("\ntype Exclude"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("T")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("U")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("T")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("U")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" never "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("T")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 例子")]),s._v("\ntype "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("T2")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Exclude"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'b'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'c'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'b'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'d'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// type T2 = 'a' | 'c'")]),s._v("\n")])])]),n("p",[s._v("上面例子中的执行逻辑：")]),s._v(" "),n("ul",[n("li",[s._v("由于分发会把联合类型中的每一个类型单独拿去判断的原因，会先把T，也就前面 a | b | c给拆分在单独放入 T extends U ? never : T 判断")]),s._v(" "),n("li",[s._v("一次判断 a(T就是a)  ，U 就是 b | d ，T 并没有继承自 U，判断为假，返回 T 也就是 a")]),s._v(" "),n("li",[s._v("第二次判断放入 b 判断为真，返回 never，ts 中的 never 我们知道就是不存在值的意思，连 undefined 都没有，所以 never 会被忽略，不会产生任何效果")]),s._v(" "),n("li",[s._v("第三次判断放入 c，判断为假，和 a 同理")]),s._v(" "),n("li",[s._v("最后将每一个单独判断的结果组成联合类型返回，never 会忽略，所以就剩下 a | c")])]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),n("p",[s._v("总之就是：如果 T extends U 满足分发的条件，就会把所有单个类型依次放入判断，最后返回记录的结果组合的联合类型")])]),s._v(" "),n("h2",{attrs:{id:"extract"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#extract"}},[s._v("#")]),s._v(" Extract")]),s._v(" "),n("p",[s._v("Extract<T, U>: 作用是取出T 里面的U，返回。作用和 Exclude 刚好相反，传参也是一样的")]),s._v(" "),n("p",[s._v("看例子理解 Extract")]),s._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("type "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("T1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Extract"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'b'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'c'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'b'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// type T1 = 'a';")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 源码定义")]),s._v("\ntype Extract"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("T")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("U")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("T")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("U")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("T")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" never\n")])])]),n("p",[s._v("和Exclude 源码对比也只是三元表达式返回的never：T 对调了一下，执行原理也是一样一眼过得，就不重复了")]),s._v(" "),n("h2",{attrs:{id:"omit"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#omit"}},[s._v("#")]),s._v(" Omit")]),s._v(" "),n("p",[n("span",{staticStyle:{color:"red"}},[s._v("Omit<T, K>：作用是把T(对象类型)里面的k去掉，返回T里还剩下的。")])]),s._v(" "),n("p",[s._v("Omit的作用和Exclude是一样的，都能把类型过滤并得到新类型。")]),s._v(" "),n("p",[n("span",{staticStyle:{color:"red"}},[s._v("不同的是Exclude主要是处理联合类型，且会触发分发，而Omit主要是处理对象类型，所以自然的这两参数也是不一样。")])]),s._v(" "),n("p",[s._v("用法一样")]),s._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 这种场景type 和 interface 是一样的，后面就不重复说明了")]),s._v("\ntype User "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" string"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    age"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" number\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\ntype "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("T1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Omit"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("User"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'age'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// type T1 = { name: string }")]),s._v("\n")])])]),n("p",[s._v("源码定义")]),s._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// keyof any 就是  string| number | symbol")]),s._v("\ntype Omit"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("T")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("K")]),s._v(" exdents keyof any"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("P")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" Exclude"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("keyof "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("T")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("K")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("T")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("P")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),n("ul",[n("li",[s._v("首先第一个参数 T 要传对象类型, type 或 interface 都可以")]),s._v(" "),n("li",[s._v("第二个参数 K 限制了类型只能是  string | number | symbol, 这一点跟js里的对象是一个意思，对象类型的属性名只支持这三种类型")]),s._v(" "),n("li",[s._v("in 是映射类型，用来映射遍历枚举类型。大白话就是循环、循环语法，需要配合联合类型来对类型进行遍历。in 的右边是可遍历的枚举类型，左边是遍历出来的每一项")]),s._v(" "),n("li",[s._v("用 Exclude 去除掉传入的树形后，在遍历剩下的树形，生成新的类型返回")])]),s._v(" "),n("p",[s._v("示例解析")]),s._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("type User "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" string"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    age"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" number"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    gender"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" string\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\ntype Omit"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("T")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("K")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("keyof")]),s._v(" any"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("P")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" Exclude"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("keyof "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("T")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("K")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("T")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("p"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\ntype "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("T1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Omit"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("User"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'age'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// type T1 = { name: string, gender: string }")]),s._v("\n")])])]),n("p",[s._v("我们调用 Omit 传入的参数是正确的，所以就分析一下后面的执行逻辑：")]),s._v(" "),n("ul",[n("li",[s._v("Exclude<keyof T, K> 等于 Exclude<'name'|'age'|'gender', 'age'>，返回的结果就是 'name'|'gender")]),s._v(" "),n("li",[s._v("然后遍历 'name'|'gender'，第一次循环 P 就是 name，返回 T[P] 就是 User['name']")]),s._v(" "),n("li",[s._v("第二次循环 P 就是 gender，返回 T[P] 就是 User['gender']，然后循环结束")]),s._v(" "),n("li",[s._v("结果就是 { name: string, gender: string }")])]),s._v(" "),n("h2",{attrs:{id:"pick"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#pick"}},[s._v("#")]),s._v(" Pick")]),s._v(" "),n("h2",{attrs:{id:"资料"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#资料"}},[s._v("#")]),s._v(" 资料")]),s._v(" "),n("p",[n("a",{attrs:{href:"https://juejin.cn/post/7170662948656906253?#heading-21",target:"_blank",rel:"noopener noreferrer"}},[s._v("TS泛型进阶"),n("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=e.exports}}]);