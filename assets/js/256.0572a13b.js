(window.webpackJsonp=window.webpackJsonp||[]).push([[256],{2001:function(t,a){t.exports="data:image/png;base64,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"},2002:function(t,a){t.exports="data:image/png;base64,UklGRoAFAABXRUJQVlA4IHQFAABwHgCdASpkADAAPpE+mUkloyIhJ7zMALASCWkAE9W/N/yA8y/Bn5z9ovUWaB/zvlp/gPD3eI/yr+7bwTlv93/zPk0fIP8F/OP3O/uPlAegHy1+qX+Zf5L+b/ht8if0n+zeRn4P7AH8e/lv+C/JL+gfSR+9/5D+6fl37Qfy/+1f9j/D/AF/H/5j/sf71/ef+5/mP//9UHsi9Az9Y/v/ZPrNtcQLyGpMR3Tcs10uQFpjOF+8n89TJ/+Bkojnym3EzSR6K62S0X3GLLCzdWkSwngIyc1Ax5u5bdduFHereyU5srWB9PpDeCmuclaWUOi8P6pta1Nwn+Kex/QwzqAA/v6XlrR/Qsglv5Pd46oIUF4VEtgHTzSyj4187NO4x8n4IO3odVp6Gg7ZJ6Gk50PvmeERlSHKZgc95C6BgV10gG3Vk8jnZluav4c/0aklGwDkxis2njc/TBl/73yf6z3/5BVNLb5Oy/jMrumIOdwAU9CtySH1qy+to/yV+uHhLOPAihi4anub45O2hQbk5BHbiPdov3PCPGoYndoZVhu2+A498sV0wB8xLeQYr9rPdE8k50Rv0W0mkA8j5zsPmUpHuFGTHFPPXu9NcQ/3HzLIwot0wB1O04as2ju+BvrYOlhgF89haef5Iu8aR1txQTHiJFg4fAel7HpvniywnB7R6SN3XFkj/LNaVhtwQHoETMGfMifTyiVs/kz+igb0Opyf4l5HXpQLxx6guywcVqZD+aobhQ3PD8rwASR80TUk6JBofllBuWlIdLVkG7+b/59rVXYD7nab3Fcl2Rq5NKMh6zZw51XJt96hEMii+lSFbW+vul3W9nLzMGvqyTh8+wJisCQLw3RZ6Cq4eYZclFQw+eiJUQZaaStP/6fIO+tDB/LSvwSz6R0gR1lar9q/LhboBMjEqOTqKBX5kOtZHXoYFb5xR1Rx3oMfPfZp5f7FWb1NTJVweu837j9T8Pw4fC0oCBFkxXRyRQ0Xhf3xnCMzkb236PKnka43Xr5ASXYlNDgDdgSMCS/ZY8TgQgGB/A1VXyr4GmKLsJpfaIPT0JF1FrJHW03Ju6hM6bzlbFIubZPIrqRCTuUja7CXFERf9AvN50Yf4nPtM/BksflTsYtMvSH4IrSBEpuf11Y76+s9foYnDDkrBJG03e1YJtxZtQTDqffGWl2hDDcBNhPNmzqrQsw4rOu5AGCCk+W8CRYlGD5i21urHejQfzACOcaKg2ULNssl+6Ia0pci0cSmErwuG1m+CL2qVi7Tqj/470yd8SDVsHukD1dcUpBoQtCoWGUI8LQMVh/aVxdMeaO3C1Lfn/+Mwjzv63HRTRXZTf7pDt4u3cf9fy0WEzO6xUErtxIA3cGxIfkY7vjOTYu0iYSUxayObfyb/RlmFU9sW5RfZ+oqV/QWI6hWzMxU8zZvdQhHCO9Aw0xfxdeR8dgVOhTtbKFfSE5Gdejm9EsamJbZ1JE/8WcoE90DII+x4odgzDN/AJBK5ER59ucME+M5o6TXrA+jU7AfQGVpGBE3XYbG1sREWchiMI19zuzfi+8LbXmyoHtkSLzOX6YoSlXc5xIqVdj/fRnpXgFSMASAn+F45VkzPC8tf3pGaSK909a1yBgpAZW9Iin3od//6ZtuNICdjLHJKNQWUR0dIzXX8Ivhdxd6t7/U3Cga3v9ydUG21UXhpFzANU3hRRbihEb9aywtNdPGQf3BI4vljVVSXaw6TEiC9H7Q9i6X9ToeIXbkmaLON8IbVg7lhimtdM7g0LggLwvey9Mweii7NE9Xk+mvuvtrhHFNAtrIKdsTYd4wGJGpbwaba0X6WzWys/DSiChuC26rOfwC/0+JxnUJEdcy9IATB6qrlrAA"},2912:function(t,a,s){"use strict";s.r(a);var n=s(46),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"ref"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ref"}},[t._v("#")]),t._v(" ref")]),t._v(" "),n("p",[t._v("vue3中一般用ref将一个值为基本数据类型的变量变成响应式，它是一个函数，组合式API之一，参数为变量的初始值。举个栗子，比如我们需要一个响应式的变量num,初始值为1。在Vue2中我们会这么做")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        num"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("把num写在data里。而在vue3中，我们通过setup函数里使用ref定义num,此时num成了一个类型为Ref(reference)的，包含响应式数据的引用对象")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" num "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("ref")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[n("span",{staticStyle:{color:"blue"}},[t._v("现在，如果想在js中改变num的值，需要通过num.value。在ref内部，是通过给value属性添加getter/setter来实现对数据的劫持，这点在我们手写shallowRef时需要用上")])]),t._v(" "),n("p",[n("span",{staticStyle:{color:"red"}},[t._v("注意，在<template>内不需要通过.value而是直接使用num")])]),t._v(" "),n("h3",{attrs:{id:"ref对象"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ref对象"}},[t._v("#")]),t._v(" ref对象")]),t._v(" "),n("p",[t._v("使用ref创建对象，里面任意深度的属性与视图都是响应式的，如在vue2中创建的data")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        a"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            b"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("使用ref则为")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("ref")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    a"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        b"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[n("span",{staticStyle:{color:"red"}},[t._v("当修改b属性的值时，视图会更新")])]),t._v(" "),n("h2",{attrs:{id:"shallowref"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#shallowref"}},[t._v("#")]),t._v(" shallowRef")]),t._v(" "),n("p",[t._v("只处理value的响应式，不进行对象的reactive处理，也就是说如果传给shallowRef一个对象，这个对象的任何一层属性都不是响应式的")]),t._v(" "),n("h3",{attrs:{id:"手写实现-拦截对数据的操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#手写实现-拦截对数据的操作"}},[t._v("#")]),t._v(" 手写实现(拦截对数据的操作)")]),t._v(" "),n("p",[t._v("将target赋值给_value属性，通过对象本身的set和get方法来实现对target的操作的拦截")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("shallowRef")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("target")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        _value"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" target"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'兰街到查询'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            consoeo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'拦截到修改'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_value "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" val"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("可以测试下效果")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" testShallowRef "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("shallowRef")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'美好的'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("打印查看 testShallowRef 对象本身 console.log(testShallowRef)：")]),t._v(" "),n("p",[n("img",{attrs:{src:s(2001),alt:"shallowRef"}})]),t._v(" "),n("p",[t._v("可以看到有个value属性，值为传递给shallowRef的参数")]),t._v(" "),n("p",[t._v("对testShallowRef进行查改操作")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("testShallowRef"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'周五'")]),t._v("\n")])])]),n("p",[n("img",{attrs:{src:s(2002),alt:"testShallowRef"}})]),t._v(" "),n("p",[t._v("说明确实拦截到了对 testShallowRef 的查询和修改操作，那么就可以继续做一些更新渲染页面的功能。")]),t._v(" "),n("h3",{attrs:{id:"shallowref-对象"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#shallowref-对象"}},[t._v("#")]),t._v(" shallowRef --对象")]),t._v(" "),n("p",[t._v("与ref不同，shallowRef修改深层属性时，并不会更新视图")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{data.foo}}"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@click")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("update"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("update"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@click")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("log"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("log"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token script"}},[n("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("shallowRef")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("foo"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("foo "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("foo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("上面点击update，视图并不会更新，但是点击log按钮时，打印出foo的值为2")]),t._v(" "),n("p",[n("span",{staticStyle:{color:"red"}},[t._v("想要更新视图，必须给value赋值，直接替换这个对象")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" foo"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("再次点击update按钮，视图更新。")]),t._v(" "),n("p",[t._v("shallow即浅的意思，shallowRef只有整个数据变更时才刷新视图")]),t._v(" "),n("p",[n("span",{staticStyle:{color:"red"}},[t._v("或者在修改数据之后，调用triggerRef方法，主动触发视图刷新")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("foo "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'300'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("triggerRef")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 触发视图刷新")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("blockquote",[n("p",[t._v("需要注意如果组件中有ref/reactive的数据更新引起组件更新，会把shallowRef更新后的数据更新到视图")])]),t._v(" "),n("h3",{attrs:{id:"为什么使用shallowref"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#为什么使用shallowref"}},[t._v("#")]),t._v(" 为什么使用shallowRef")]),t._v(" "),n("p",[t._v("因为ref方法会递归遍历对象的所有属性，使所有属性都具备响应性，所以，当对象很复杂且庞大时，过多的监听会导致性能上的损耗。如假设有一个文章列表数组：")]),t._v(" "),n("p",[t._v("像这种做展示用的数据，并不需要每个属性都做响应性，此时使用shallowRef就很合适。")]),t._v(" "),n("blockquote",[n("p",[t._v("其实可以放在外面不做响应式或者Object.freeze()")])]),t._v(" "),n("h2",{attrs:{id:"shallreactive"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#shallreactive"}},[t._v("#")]),t._v(" shallReactive")]),t._v(" "),n("p",[t._v("只处理对象最外面一层的响应时数据(浅响应时)")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" obj "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("shallowReactive")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Mr.long'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" son"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Mr.liu'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// vue不会做son.name响应式")]),t._v("\n")])])]),n("p",[n("a",{attrs:{href:"https://blog.csdn.net/LiuMH2011/article/details/123716933",target:"_blank",rel:"noopener noreferrer"}},[t._v("ref与shallowRef区别"),n("OutboundLink")],1)]),t._v(" "),n("p",[n("a",{attrs:{href:"https://www.jianshu.com/p/4e0d4fcff950",target:"_blank",rel:"noopener noreferrer"}},[t._v("shallowReactive和shallowRef"),n("OutboundLink")],1)]),t._v(" "),n("p",[n("a",{attrs:{href:"https://juejin.cn/post/6987942531472457759",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue3.0中shallowRef和shallReactive"),n("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=e.exports}}]);