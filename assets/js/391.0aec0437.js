(window.webpackJsonp=window.webpackJsonp||[]).push([[391],{2163:function(n,s,a){"use strict";a.r(s);var t=a(46),e=Object(t.a)({},(function(){var n=this,s=n.$createElement,a=n._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[n._v("FROM image-docker.xxx.cc/base/node-builder:16.15.1-slim as builder\n\nRUN "),a("span",{pre:!0,attrs:{class:"token function"}},[n._v("apt-get")]),n._v(" update "),a("span",{pre:!0,attrs:{class:"token operator"}},[n._v("&&")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[n._v("apt-get")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[n._v("install")]),n._v(" -y "),a("span",{pre:!0,attrs:{class:"token function"}},[n._v("git")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[n._v("&&")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[n._v("apt-get")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[n._v("install")]),n._v(" -y openssh-client\nCOPY package.json /home/homework/package.json\nCOPY pnpm-lock.yaml /home/homework/pnpm-lock.yaml\nCOPY packages/site/package.json /home/homework/packages/site/package.json\nCOPY packages/components/package.json /home/homework/packages/components/package.json\nCOPY .npmrc  /home/homework/.npmrc\nWORKDIR /home/homework/\nCOPY "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[n._v(".")]),n._v(" /home/homework/\nRUN "),a("span",{pre:!0,attrs:{class:"token function"}},[n._v("npm")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[n._v("install")]),n._v(" -g pnpm@6\nRUN "),a("span",{pre:!0,attrs:{class:"token function"}},[n._v("pnpm")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[n._v("install")]),n._v("\n\nARG CI_FE_DEBUG\nARG REPO_GIT_REMOTE_ADDRESS\nENV NODE_ENV production\n\nARG APP_NAME\nENV APP_NAME "),a("span",{pre:!0,attrs:{class:"token variable"}},[n._v("$APP_NAME")]),n._v("\n\nRUN "),a("span",{pre:!0,attrs:{class:"token function"}},[n._v("pnpm")]),n._v(" build\nRUN "),a("span",{pre:!0,attrs:{class:"token function"}},[n._v("pnpm")]),n._v(" docs:build\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# 运行")]),n._v("\nFROM image-docker.xxx.cc/privbase/fe-nginx:1.2.9\n\nARG APP_NAME\nENV APP_NAME "),a("span",{pre:!0,attrs:{class:"token variable"}},[n._v("$APP_NAME")]),n._v("\n\nARG REPO_NAME\nENV REPO_NAME "),a("span",{pre:!0,attrs:{class:"token variable"}},[n._v("$REPO_NAME")]),n._v("\n\nCOPY --from"),a("span",{pre:!0,attrs:{class:"token operator"}},[n._v("=")]),n._v("builder /home/homework/packages/site/docs/.vitepress/dist/ /home/homework/www/static/hy/"),a("span",{pre:!0,attrs:{class:"token variable"}},[n._v("$APP_NAME")]),n._v("/\n\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);