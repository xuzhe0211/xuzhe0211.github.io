(window.webpackJsonp=window.webpackJsonp||[]).push([[357],{1883:function(t,s,a){t.exports=a.p+"assets/img/20210202001408190.62b0d1e7.png"},2819:function(t,s,a){"use strict";a.r(s);var e=a(46),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[t._v("react hooké¢è¯•å·²ç»æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œç›¸ä¿¡å¾ˆå¤šäººéƒ½å·²ç»åœ¨ä»£ç ä¸­ç”¨ä¸Šhooksã€‚è€Œå¯¹äºuseEffectå’ŒuseLayoutEffect,æˆ‘ä»¬ä½¿ç”¨çš„æœ€å¤šçš„åº”è¯¥å°±æ˜¯useEffectã€‚é‚£ä¹ˆä»–ä»¬ä¸¤ä¸ªåˆ°åº•æœ‰ä»€ä¹ˆä¸ä¸€æ ·çš„åœ°æ–¹ï¼Ÿ")]),t._v(" "),e("h2",{attrs:{id:"ä½¿ç”¨æ–¹å¼"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨æ–¹å¼"}},[t._v("#")]),t._v(" ä½¿ç”¨æ–¹å¼")]),t._v(" "),e("p",[t._v("è¿™ä¸¤ä¸ªå‡½æ•°çš„ä½¿ç”¨æ–¹å¼å…¶å®éå¸¸ç®€å•ï¼Œå®ƒä»¬éƒ½æ¥å—ä¸€ä¸ªå‡½æ•°ä¸€ä¸ªæ•°ç»„ï¼Œåªæœ‰åœ¨æ•°ç»„é‡Œé¢çš„å€¼æ”¹å˜çš„æƒ…å†µä¸‹æ‰ä¼šå†æ¬¡æ‰§è¡Œeffectã€‚æ‰€ä»¥å¯¹äºä½¿ç”¨æ–¹å¼æˆ‘å°±ä¸è¿‡å¤šä»‹ç»äº†ï¼Œå…·ä½“æŸ¥çœ‹"),e("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/hooks-reference.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("å®˜ç½‘"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"å·®å¼‚"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å·®å¼‚"}},[t._v("#")]),t._v(" å·®å¼‚")]),t._v(" "),e("ul",[e("li",[e("p",[e("span",{staticStyle:{color:"blue"}},[t._v("useEffect(æ¸²æŸ“å)æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ï¼Œè€ŒuseLayoutEffect(æ¸²æŸ“æ—¶)æ˜¯åŒæ­¥æ‰§è¡Œçš„")])])]),t._v(" "),e("li",[e("p",[e("span",{staticStyle:{color:"blue"}},[t._v("useEffectçš„æ‰§è¡Œæ—¶æœºæ˜¯æµè§ˆå™¨å®Œæˆæ¸²æŸ“ä¹‹åï¼Œè€ŒuseLayoutEffectçš„æ‰§è¡Œæ—¶æœºæ˜¯æµè§ˆå™¨æŠŠå†…å®¹çœŸæ­£æ¸²æŸ“åˆ°ç•Œé¢ä¹‹å‰ï¼Œå’ŒcomponentDidMountç­‰ä»·")])])]),t._v(" "),e("li",[e("p",[e("span",{staticStyle:{color:"blue"}},[t._v("useInsertionEffect(æ¸²æŸ“å‰)å·¥ä½œåŸç†ç±»ä¼¼useLayoutEffect,åŒºåˆ«åœ¨äºå›è°ƒæ‰§è¡Œæ—¶è¿˜ä¸èƒ½è®¿é—®refä¸­çš„DOMèŠ‚ç‚¹ã€‚")])]),t._v(" "),e("ul",[e("li",[t._v("ä½ å¯ä»¥åœ¨è¿™ä¸ªHookå†…æ“ä½œå…¨å±€DOMèŠ‚ç‚¹(æ¯”å¦‚<style>æˆ–è€…SVG<defs>)")]),t._v(" "),e("li",[t._v("æ“ä½œCSSåº“(æ¯”å¦‚CSS-IN-jsæ–¹æ¡ˆ)å¯ä»¥ç”¨è¿™ä¸ªHookæ’å…¥å…¨å±€style")])])])]),t._v(" "),e("h2",{attrs:{id:"å…·ä½“è¡¨ç°"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å…·ä½“è¡¨ç°"}},[t._v("#")]),t._v(" å…·ä½“è¡¨ç°")]),t._v(" "),e("p",[t._v("ğŸŒ°")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" useEffect"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" useLayoutEffect"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" useState "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" logo "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./logo.svg'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./App.css'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("App")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("state"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setState"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello world'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000000")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            i"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'world hello'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// useLayoutEffect(() => {")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     let i = 0; ")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     while(i < 1000000) {")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         i++;")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     setState('world hello');")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }, [])")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("state"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("è¿™æ˜¯å®ƒçš„æ•ˆæœ\n"),e("img",{attrs:{src:a(1883),alt:"æ•ˆæœ"}})]),t._v(" "),e("p",[e("span",{staticStyle:{color:"red"}},[t._v('"è€Œæ¢æˆuseLayoutEffectä¹‹åé—ªçƒç°è±¡å°±æ¶ˆå¤±äº†')])]),t._v(" "),e("p",[t._v("çœ‹åˆ°è¿™é‡Œç›¸ä¿¡ä½ åº”è¯¥èƒ½ç†è§£ä»–ä»¬çš„åŒºåˆ«äº†ï¼Œå› ä¸ºuseEffectæ˜¯æ¸²æŸ“ä¹‹åå¼‚æ­¥æ‰§è¡Œçš„ï¼Œæ‰€ä»¥ä¼šå¯¼è‡´hello worldå…ˆè¢«æ¸²æŸ“åˆ°å±å¹•ä¸Šï¼Œåœ¨å˜æˆworld helloï¼Œå°±ä¼šå‡ºç°é—ªçƒç°è±¡ã€‚è€ŒuseLayoutEffectæ˜¯æ¸²æŸ“ä¹‹å‰åŒæ­¥æ‰§è¡Œçš„ï¼Œæ‰€ä»¥ä¼šç­‰å®ƒæ‰§è¡Œå®Œåœ¨æ¸²æŸ“ä¸Šå»ï¼Œå°±é¿å…äº†é—ªçƒç°è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´ç­‰å®ƒæ‰§è¡Œå®Œåœ¨æ¸²æŸ“ä¸Šå»ï¼Œå°±é¿å…äº†é—ªçƒç°è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬æŠŠæ“ä½œdomçš„ç›¸å…³æ“ä½œæ”¾åˆ°useLayoutEffectä¸­å»ï¼Œé¿å…å¯¼è‡´é—ªçƒ")]),t._v(" "),e("h2",{attrs:{id:"ssr"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ssr"}},[t._v("#")]),t._v(" ssr")]),t._v(" "),e("p",[t._v("ä¹Ÿæ­£æ˜¯å› ä¸ºuseLayoutEffectå¯èƒ½ä¼šå¯¼è‡´æ¸²æŸ“ç»“æœä¸ä¸€æ ·çš„å…³ç³»ï¼Œå¦‚æœä½ åœ¨ssrçš„æ—¶å€™ä½¿ç”¨è¿™ä¸ªå‡½æ•°ä¼šæœ‰ä¸€ä¸ªwarning")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("Warning"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" useLayoutEffect does nothing on the server"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" because its effect cannot be encoded into the server renderer's output format"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" This will lead to a mismatch between the initial"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" non"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("hydrated "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UI")]),t._v(" and the intended "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UI")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" To avoid "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" useLayoutEffect should only be used "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" components that render exclusively on the client"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" See https"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("fb"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("me"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("react"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("uselayouteffect"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ssr "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" common fixes"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])])]),e("p",[t._v("è¿™æ˜¯å› ä¸ºuseLayoutEffectæ˜¯ä¸ä¼šåœ¨æœåŠ¡ç«¯ï¼Œæ‰€ä»¥å°±æœ‰å¯èƒ½å¯¼è‡´ssræ¸²æŸ“å‡ºæ¥çš„å†…å®¹å’Œå®é™…çš„é¦–å±å†…å®¹å¹¶ä¸ä¸€è‡´ã€‚è€Œè§£å†³è¿™ä¸ªé—®é¢˜ä¹Ÿå¾ˆç®€å•")]),t._v(" "),e("ul",[e("li",[t._v("æ”¾å¼ƒä½¿ç”¨useLayoutEffect,ä½¿ç”¨useEffectä»£æ›¿")]),t._v(" "),e("li",[e("span",{staticStyle:{color:"blue"}},[t._v("å¦‚æœä½ æ˜ç¡®çŸ¥é“useLayoutEffectå¯¹äºé¦–å±æ¸²æŸ“å¹¶æ²¡æœ‰å½±å“ï¼Œä½†æ˜¯åç»­ä¼šä½¿ç”¨ï¼Œä½ å¯ä»¥è¿™ä¹ˆå†™")])])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" useEffect"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" useLayoutEffect "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" useCustomLayoutEffect "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" window "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'undefined'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" useLayoutEffect "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" useEffect"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("å½“ä½ ä½¿ç”¨useLayoutEffectçš„æ—¶å€™å°±ç”¨useCustomLayoutEffectä»£æ›¿ã€‚è¿™æ ·åœ¨æœåŠ¡ç«¯å°±ä¼šç”¨useEffect,è¿™æ ·å°±ä¸å›æŠ¥warningäº†.")]),t._v(" "),e("h2",{attrs:{id:"æºç å‰–æ"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æºç å‰–æ"}},[t._v("#")]),t._v(" æºç å‰–æ")]),t._v(" "),e("h3",{attrs:{id:"useeffect"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#useeffect"}},[t._v("#")]),t._v(" useEffect")]),t._v(" "),e("p",[t._v("é¦–å…ˆæ‰¾åˆ°useEffectè°ƒç”¨å…¥å£")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateEffect")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("create"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" deps")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// $FlowExpectedError - jest isn't a global, and isn't recognized outside of tests")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'undefined'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" jest"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("warnIfNotCurrentlyActingEffectsInDEV")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("currentlyRenderingFiber$"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateEffectImpl")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Update "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Passive"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Passive$"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" create"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" deps"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("//................................................................")]),t._v(" "),e("h2",{attrs:{id:"æ€»ç»“"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[t._v("#")]),t._v(" æ€»ç»“")]),t._v(" "),e("ul",[e("li",[e("span",{staticStyle:{color:"blue"}},[t._v("ä¼˜å…ˆä½¿ç”¨useEffect,å› ä¸ºå®ƒæ˜¯å¼‚æ­¥çš„ï¼Œä¸ä¼šé˜»å¡æ¸²æŸ“")])]),t._v(" "),e("li",[e("span",{staticStyle:{color:"blue"}},[t._v("ä¼šå½±å“åˆ°æ¸²æŸ“çš„æ“ä½œå°½é‡æ”¾åˆ°useLayoutEffectä¸­å»ï¼Œé¿å…å‡ºç°é—ªçƒé—®é¢˜")])]),t._v(" "),e("li",[e("span",{staticStyle:{color:"blue"}},[t._v("useLayoutEffectå’ŒcomponentDidMountæ˜¯ç­‰ä»·çš„ï¼Œä¼šåŒæ­¥è°ƒç”¨ï¼Œé˜»å¡æ¸²æŸ“")])]),t._v(" "),e("li",[e("span",{staticStyle:{color:"blue"}},[t._v("useLayoutEffectåœ¨æœåŠ¡ç«¯æ¸²æŸ“çš„æ—¶å€™ä½¿ç”¨ä¼šæœ‰ä¸€ä¸ªwarning,å› ä¸ºå®ƒå¯èƒ½å¯¼è‡´é¦–å±å®é™…å†…å®¹å’ŒæœåŠ¡ç«¯æ¸²æŸ“å‡ºæ¥çš„å†…å®¹ä¸ä¸€æ ·")])])]),t._v(" "),e("h2",{attrs:{id:"èµ„æ–™"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#èµ„æ–™"}},[t._v("#")]),t._v(" èµ„æ–™")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://blog.csdn.net/qq_38164763/article/details/113532855",target:"_blank",rel:"noopener noreferrer"}},[t._v("useEffectå’ŒuseLayoutEffectçš„åŒºåˆ«"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/346977585",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ¢³ç†useEffectå’ŒuseLayoutEffectçš„åŸç†ä¸åŒºåˆ«"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/388636591",target:"_blank",rel:"noopener noreferrer"}},[t._v("reactæ‚è°ˆä¹‹componentDidMount ----é‡è¦"),e("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=n.exports}}]);