(window.webpackJsonp=window.webpackJsonp||[]).push([[328],{1416:function(t,v,_){t.exports=_.p+"assets/img/28.cb7d169b.jpg"},2609:function(t,v,_){"use strict";_.r(v);var a=_(46),r=Object(a.a)({},(function(){var t=this,v=t.$createElement,a=t._self._c||v;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[a("a",{attrs:{href:"https://github.com/miracle90/monitor",target:"_blank",rel:"noopener noreferrer"}},[t._v("源码仓库"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"为什么要做前端监控"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为什么要做前端监控"}},[t._v("#")]),t._v(" 为什么要做前端监控")]),t._v(" "),a("ul",[a("li",[t._v("更快的发现问题和解决问题")]),t._v(" "),a("li",[t._v("做产品的决策一句")]),t._v(" "),a("li",[t._v("为业务扩展提供了更多可能性")]),t._v(" "),a("li",[t._v("提升前端工程师的技术深度和广度，打造简历亮点")])]),t._v(" "),a("h2",{attrs:{id:"前端监控目标"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前端监控目标"}},[t._v("#")]),t._v(" 前端监控目标")]),t._v(" "),a("ul",[a("li",[t._v("稳定性 stability\n"),a("ul",[a("li",[t._v("js错误：js执行错误、promise异常")]),t._v(" "),a("li",[t._v("资源错误：js、css资源加载异常")]),t._v(" "),a("li",[t._v("接口错误：ajax、fetch请求异常")]),t._v(" "),a("li",[t._v("白屏:页面空白")])])]),t._v(" "),a("li",[t._v("用户体验")]),t._v(" "),a("li",[t._v("业务business\n"),a("ul",[a("li",[t._v("pv: 页面浏览量和点击量")]),t._v(" "),a("li",[t._v("uv: 访问某个站点的不同ip的人数")]),t._v(" "),a("li",[t._v("用户在每一个页面的停留时间")])])])]),t._v(" "),a("h2",{attrs:{id:"前端监控流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前端监控流程"}},[t._v("#")]),t._v(" 前端监控流程")]),t._v(" "),a("ol",[a("li",[t._v("前端埋点")]),t._v(" "),a("li",[t._v("数据上报")]),t._v(" "),a("li",[t._v("加工汇总")]),t._v(" "),a("li",[t._v("可视化展示")]),t._v(" "),a("li",[t._v("监控报警")])]),t._v(" "),a("p",[a("img",{attrs:{src:_(1416),alt:"前端监控流程"}})]),t._v(" "),a("h3",{attrs:{id:"常见的埋点方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常见的埋点方案"}},[t._v("#")]),t._v(" 常见的埋点方案")]),t._v(" "),a("ul",[a("li",[t._v("代码埋点\n"),a("ul",[a("li",[t._v("嵌入代码的形式")]),t._v(" "),a("li",[t._v("优点：精确(任意时刻，数据量全面)")]),t._v(" "),a("li",[t._v("缺点：代码工作量")])])]),t._v(" "),a("li",[t._v("可视化埋点\n"),a("ul",[a("li",[t._v("通过可视化交互的手段，代替代码埋点")]),t._v(" "),a("li",[t._v("将业务代码和埋点代码分离，提供一个可视化交互的页面，输入为业务代码，通过这个系统，可以在业务代码中自定义的增加埋点事件等等，最后输出的代码耦合了业务代码和埋点代码")]),t._v(" "),a("li",[t._v("用系统来代码手工插入埋点代码")])])]),t._v(" "),a("li",[t._v("无痕埋点\n"),a("ul",[a("li",[t._v("前端的任意一个事件被绑定一个标识，所有的时间都被记录下来")]),t._v(" "),a("li",[t._v("通过定期上传记录文件，配合文件解析，解析出来我们想要的数据，并生成可视化报告供专业人员分析")]),t._v(" "),a("li",[t._v("无痕埋点的有点是采集全量数据，不会出现不会出现漏埋和误埋等现象")]),t._v(" "),a("li",[t._v("缺点是给数据传输和服务器增加压力，也无法灵活定制数据结构")])])])]),t._v(" "),a("h2",{attrs:{id:"编写采集脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编写采集脚本"}},[t._v("#")]),t._v(" 编写采集脚本")]),t._v(" "),a("h3",{attrs:{id:"接入日志系统"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#接入日志系统"}},[t._v("#")]),t._v(" 接入日志系统")]),t._v(" "),a("ul",[a("li",[t._v("各公司一般都有自己的日志系统，接受数据上报例如阿里云")])]),t._v(" "),a("h3",{attrs:{id:"监控错误"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#监控错误"}},[t._v("#")]),t._v(" 监控错误")]),t._v(" "),a("h4",{attrs:{id:"错误分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#错误分类"}},[t._v("#")]),t._v(" 错误分类")]),t._v(" "),a("ul",[a("li",[t._v("js错误(js执行错误，promise异常)")]),t._v(" "),a("li",[t._v("资源加载异常：监听error")])]),t._v(" "),a("h4",{attrs:{id:"数据分析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据分析"}},[t._v("#")]),t._v(" 数据分析")]),t._v(" "),a("h2",{attrs:{id:"资料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#资料"}},[t._v("#")]),t._v(" 资料")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://mp.weixin.qq.com/s/EBk4cFK9AjkeQQgHnI8JrQ",target:"_blank",rel:"noopener noreferrer"}},[t._v("浅谈前端监控体系搭建"),a("OutboundLink")],1)])])}),[],!1,null,null,null);v.default=r.exports}}]);