(window.webpackJsonp=window.webpackJsonp||[]).push([[533],{2453:function(t,s,a){"use strict";a.r(s);var n=a(46),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"å¼•è¨€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¼•è¨€"}},[t._v("#")]),t._v(" å¼•è¨€")]),t._v(" "),a("p",[t._v("EcmaScript 2015ä¸­å¼•å…¥äº†"),a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy",target:"_blank",rel:"noopener noreferrer"}},[t._v("Proxyä»£ç†"),a("OutboundLink")],1),t._v("ä¸"),a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect",target:"_blank",rel:"noopener noreferrer"}},[t._v("Reflectåå°„"),a("OutboundLink")],1),t._v("ä¸¤ä¸ªæ–°çš„å†…ç½®æ¨¡å—ã€‚")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥åˆ©ç”¨Proxyå’ŒReflectæ¥å®ç°å¯¹äºå¯¹è±¡çš„ä»£ç†åŠ«æŒæ“ä½œï¼Œç±»ä¼¼äºEs5ä¸­[Object.defineProperty()]çš„æ•ˆæœï¼Œä¸è¿‡Reflect & proxyè¿œè¿œæ¯”å®ƒå¼ºå¤§ã€‚")]),t._v(" "),a("p",[t._v("å¤§å¤šæ•°å¼€å‘è€…éƒ½äº†è§£è¿™ä¸¤ä¸ªES6ä¸­çš„æ–°å¢çš„å†…ç½®æ¨¡å—ï¼Œå¯æ˜¯ä½ ä¹Ÿè®¸å¹¶ä¸æ¸…æ¥šProxyä¸€å®šè¦é…åˆReflectä½¿ç”¨ã€‚")]),t._v(" "),a("h2",{attrs:{id:"å‰ç½®çŸ¥è¯†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‰ç½®çŸ¥è¯†"}},[t._v("#")]),t._v(" å‰ç½®çŸ¥è¯†")]),t._v(" "),a("ul",[a("li",[a("span",{staticStyle:{color:"blue"}},[t._v('Proxyä»£ç†ï¼Œå®ƒå†…ç½®äº†ä¸€ç³»åˆ—"é™·é˜±"ç”¨äºåˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„ä»£ç†ï¼Œä»è€Œå®ç°åŸºæœ¬æ“ä½œçš„æ‹¦æˆªå’Œè‡ªå®šä¹‰(å¦‚å±æ€§æŸ¥æ‰¾ã€èµ‹å€¼ã€æšä¸¾ã€å‡½æ•°è°ƒç”¨ç­‰)')])]),t._v(" "),a("li",[a("span",{staticStyle:{color:"blue"}},[t._v("Reflectåå°„ï¼Œå®ƒæä¾›äº†Javascriptæ“ä½œçš„æ–¹æ³•ã€‚è¿™äº›æ–¹æ³•ä¸"),a("strong",[t._v("Proxy")]),t._v("çš„æ–¹æ³•ç›¸åŒ")])])]),t._v(" "),a("p",[a("span",{staticStyle:{color:"red"}},[a("strong",[t._v("ç®€å•æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Proxyåˆ›å»ºå¯¹äºåŸå§‹å¯¹è±¡çš„ä»£ç†å¯¹è±¡ï¼Œä»è€Œåœ¨ä»£ç†å¯¹è±¡ä¸­ä½¿ç”¨Reflectè¾¾åˆ°å¯¹äºJavascriptåŸå§‹æ“ä½œçš„æ‹¦æˆª")])])]),t._v(" "),a("p",[t._v("å¤§åé¼é¼çš„ VueJs/Core ä¸­æ ¸å¿ƒçš„å“åº”å¼æ¨¡å—å°±æ˜¯åŸºäºè¿™ä¸¤ä¸ª Api æ¥å®ç°çš„ã€‚")]),t._v(" "),a("h2",{attrs:{id:"å•ç‹¬ä½¿ç”¨proxy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å•ç‹¬ä½¿ç”¨proxy"}},[t._v("#")]),t._v(" å•ç‹¬ä½¿ç”¨Proxy")]),t._v(" "),a("p",[t._v("å¼€å§‹çš„ç¬¬ä¸€ä¸ªä¾‹å­ï¼Œå…ˆå•ç‹¬ä½¿ç”¨Proxy")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wang.haoyu'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" proxy "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Proxy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// geté™·é˜±ä¸­targetè¡¨ç¤ºæºå¯¹è±¡ï¼Œkeyè¡¨ç¤ºè®¿é—®çš„å±æ€§å")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'åŠ«æŒä½ çš„æ•°æ®è®¿é—®'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nproxy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åŠ«æŒä½ çš„æ•°æ®è®¿é—®name -> wang.haoyu")]),t._v("\n")])])]),a("p",[t._v("çœ‹èµ·æ¥å¾ˆç®€å•å§ï¼Œæˆ‘ä»¬é€šè¿‡Proxyåˆ›å»ºäº†ä¸€ä¸ªåŸºäºobjå¯¹è±¡çš„ä»£ç†ï¼Œ"),a("strong",[t._v("åŒæ—¶åœ¨Proxyä¸­å£°æ˜äº†ä¸€ä¸ªgeté™·é˜±")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("å½“æˆ‘ä»¬è®¿é—®proxy.nameæ—¶å®é™…ä¸Šè§¦å‘äº†å¯¹åº”çš„geté™·é˜±ï¼Œå®ƒä¼šæ‰§è¡Œgeté™·é˜±ä¸­çš„é€»è¾‘ï¼ŒåŒæ—¶ä¼šæ‰§è¡Œå¯¹åº”é™·é˜±ä¸­çš„é€»è¾‘ï¼Œæœ€ç»ˆè¿”å›å¯¹åº”çš„target[key]ä¹Ÿå°±æ˜¯æ‰€è°“çš„wang.haoyu")]),t._v(" "),a("h2",{attrs:{id:"proxyä¸­receiver-rÉªËˆsiËvÉ™r"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#proxyä¸­receiver-rÉªËˆsiËvÉ™r"}},[t._v("#")]),t._v(" Proxyä¸­receiver[rÉªËˆsiËvÉ™r]")]),t._v(" "),a("p",[t._v("ä¸Šé¢çš„demoä¸­ä¸€èµ·çœ‹èµ·æ¥é¡ºé£é¡ºæ°´ï¼Œç»†å¿ƒçš„åŒå­¦åœ¨é˜…è¯»Proxyçš„MDNæ–‡æ¡£ä¸­å¯èƒ½ä¼šå‘ç°å…¶å®Proxyä¸­geté™·é˜±è¿˜ä¼šå­˜åœ¨ä¸€ä¸ªé¢å¤–çš„å‚æ•°receiverã€‚")]),t._v(" "),a("p",[t._v("é‚£ä¹ˆè¿™é‡Œçš„receiverç©¶ç«Ÿè¡¨ç¤ºä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ"),a("span",{staticStyle:{color:"red"}},[a("strong",[t._v("å¤§å¤šæ•°åŒå­¦ä¼šå°†å®ƒç†è§£æˆä¸ºä»£ç†å¯¹è±¡ï¼Œä½†è¿™æ˜¯ä¸å…¨é¢çš„")])])]),t._v(" "),a("p",[t._v("ä»¥ä¸€ä¸ªdemoä¸ºåˆ‡å…¥ç‚¹")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wang.haoyu'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" proxy "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Proxy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// geté™·é˜±ä¸­targetè¡¨ç¤ºæºå¯¹è±¡ï¼Œkeyè¡¨ç¤ºè®¿é—®çš„å±æ€§å")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("receiver "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" proxy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nproxy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n")])])]),a("p",[t._v("ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åœ¨proxyå®ä¾‹å¯¹è±¡çš„geté™·é˜±ä¸Šæ¥å—äº†receiverè¿™ä¸ªå‚æ•°ã€‚")]),t._v(" "),a("p",[t._v("åŒæ—¶ï¼Œæˆ‘ä»¬åœ¨é™·é˜±å†…éƒ¨æ‰“å° console.log(receiver === proxy); å®ƒä¼šæ‰“å°å‡ºtrue,è¡¨ç¤ºè¿™é‡Œçš„receiverçš„ç¡®æ˜¯å’Œä»£ç†å¯¹è±¡ç›¸ç­‰çš„ã€‚")]),t._v(" "),a("p",[a("span",{staticStyle:{color:"red"}},[a("strong",[t._v("æ‰€ä»¥receiverçš„ç¡®å¯ä»¥è¡¨ç¤ºä»£ç†å¯¹è±¡ï¼Œä½†æ˜¯è¿™ä»…ä»…æ˜¯receiverä»£è¡¨çš„ä¸€ç§æƒ…å†µè€Œå·²")])])]),t._v(" "),a("p",[t._v("æ¥ä¸‹æ¥çœ‹å¦ä¸€ä¸ªğŸŒ°")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" parent "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'19Qingfeng'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" proxy "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Proxy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("parent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// geté™·é˜±ä¸­targetè¡¨ç¤ºæºå¯¹è±¡ï¼Œkeyè¡¨ç¤ºè®¿é—®çš„å±æ€§å")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" receiver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("receiver "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" proxy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wang.haoyu'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¾ç½®ç»§æ‰¿ä¸parentçš„ä»£ç†å¯¹è±¡proxy")]),t._v("\nObject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setPrototypeOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" proxy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nobj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿™é‡Œreceiver æŒ‡å‘obj")]),t._v("\n\n")])])]),a("blockquote",[a("p",[t._v("å…³äºåŸå‹ä¸Šå‡ºç°çš„ get/set å±æ€§è®¿é—®å™¨çš„â€œå±è”½â€æ•ˆæœï¼Œåœ¨"),a("a",{attrs:{href:"https://juejin.cn/post/7074935443355074567",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¿™ç¯‡æ–‡ç« "),a("OutboundLink")],1),t._v("ä¸­è¿›è¡Œäº†è¯¦ç»†é˜è¿°ã€‚è¿™é‡Œæˆ‘å°±ä¸å±•å¼€è®²è§£äº†ã€‚")])]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä¸Šè¿°çš„ä»£ç åŒæ ·æˆ‘åœ¨proxyå¯¹è±¡çš„geté™·é˜±ä¸Šæ‰“å°äº† console.log(receiver === proxy); ç»“æœå´æ˜¯false,")]),t._v(" "),a("p",[t._v("é‚£ä¹ˆä½ å¯ä»¥æ€è€ƒä¸‹è¿™é‡Œçš„receiverç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Ÿå…¶å®è¿™ä¹Ÿæ˜¯proxyä¸­geté™·é˜±ç¬¬äºŒä¸ªreceiverå­˜åœ¨çš„æ„ä¹‰")]),t._v(" "),a("p",[a("span",{staticStyle:{color:"red"}},[a("strong",[t._v("å®ƒæ˜¯ä¸ºäº†ä¼ é€’æ­£ç¡®çš„è°ƒç”¨è€…æŒ‡å‘")])]),t._v(",çœ‹ä¸‹é¢ä»£ç ")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" proxy "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Proxy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("parent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// geté™·é˜±ä¸­targetè¡¨ç¤ºæºå¯¹è±¡ï¼Œkeyè¡¨ç¤ºè®¿é—®çš„å±æ€§å")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" receiver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("receiver "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" proxy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("receiver "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n")])])]),a("p",[a("span",{staticStyle:{color:"blue"}},[a("strong",[t._v("å…¶å®ç®€å•æ¥è¯´ï¼Œgeté™·é˜±ä¸­çš„receiverå­˜åœ¨çš„æ„ä¹‰å°±æ˜¯ä¸ºäº†æ­£ç¡®çš„åœ¨é™·é˜±ä¸­ä¼ é€’ä¸Šä¸‹æ–‡")])])]),t._v(" "),a("p",[t._v("æ¶‰åŠåˆ°å±æ€§è®¿é—®æ—¶ï¼Œä¸è¦å¿˜è®°geté™·é˜±è¿˜ä¼šè§¦å‘å¯¹åº”çš„å±æ€§è®¿é—®å™¨ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„getè®¿é—®å™¨æ–¹æ³•")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸Šè¿°çš„receiverä»£è¡¨çš„æ˜¯ç»§æ‰¿ä¸Proxyçš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯obj")]),t._v(" "),a("p",[a("span",{staticStyle:{color:"red"}},[a("strong",[t._v("çœ‹åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬æ˜ç™½äº†Proxyä¸­geté™·é˜±çš„receiverä¸ä»…ä»…ä»£è¡¨çš„æ˜¯Proxyä»£ç†å¯¹è±¡æœ¬èº«ï¼ŒåŒæ—¶ä¹Ÿè®¸ä»–ä¼šä»£è¡¨ç»§æ‰¿Proxyçš„é‚£ä¸ªå¯¹è±¡")])])]),t._v(" "),a("p",[a("span",{staticStyle:{color:"blue"}},[a("strong",[t._v("å…¶å®æœ¬è´¨ä¸Šæ¥è¯´å®ƒè¿˜æ˜¯ä¸ºäº†ç¡®ä¿é™·é˜±å‡½æ•°ä¸­è°ƒç”¨è€…çš„æ­£ç¡®çš„ä¸Šä¸‹æ–‡è®¿é—®ï¼Œæ¯”å¦‚è¿™é‡Œçš„receiveræŒ‡å‘çš„obj")])])]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("å½“ç„¶ï¼Œä½ ä¸è¦å°† revceiver å’Œ get é™·é˜±ä¸­çš„ this å¼„æ··äº†ï¼Œé™·é˜±ä¸­çš„ this å…³é”®å­—è¡¨ç¤ºçš„æ˜¯ä»£ç†çš„ handler å¯¹è±¡ã€‚")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" parent "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'19Qingfeng'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" handler "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" receiver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" handler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true;")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("receiver "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" proxy "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Proxy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("parent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" handler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wang.haoyu'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¾ç½®objç»§æ‰¿ä¸parentçš„ä»£ç†å¯¹è±¡proxy")]),t._v("\nObject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setPrototypeOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" proxy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nobj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false")]),t._v("\n")])])]),a("h2",{attrs:{id:"reflectä¸­çš„receiver"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reflectä¸­çš„receiver"}},[t._v("#")]),t._v(" Reflectä¸­çš„receiver")]),t._v(" "),a("p",[t._v("åœ¨æ¸…æ¥šäº†Proxyä¸­geté™·é˜±çš„receiveråï¼Œæˆ‘ä»¬æ¥ç€æ¥èŠèŠReflectåå°„APIä¸­geté™·é˜±çš„receiver")]),t._v(" "),a("p",[a("span",{staticStyle:{color:"red"}},[t._v("æˆ‘ä»¬çŸ¥é“Proxyä¸­ç¬¬ä¸‰ä¸ªå‚æ•°receiverä»£è¡¨çš„æ˜¯ä»£ç†å¯¹è±¡æœ¬èº«æˆ–è€…ç»§æ‰¿ä¸ä»£ç†å¯¹è±¡çš„å¯¹è±¡ï¼Œä»–è¡¨ç¤ºè§¦å‘é™·é˜±æ—¶æ­£ç¡®çš„ä¸Šä¸‹æ–‡")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" parent "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'19Qingfeng'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" handler "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" receiver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Reflect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿™é‡Œç›¸å½“äºreturn target[key]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" proxy "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Proxy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("parent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" handler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wang.haoyu'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¾ç½®objç»§æ‰¿ä¸parentçš„ä»£ç†å¯¹è±¡proxy")]),t._v("\nObject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setPrototypeOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" proxy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 19Qingfeng")]),t._v("\n")])])]),a("p",[t._v("åˆ†æä¸‹ä¸Šé¢ä»£ç ")]),t._v(" "),a("ul",[a("li",[a("span",{staticStyle:{color:"blue"}},[t._v("å½“æˆ‘ä»¬è°ƒç”¨obj.valueæ—¶ï¼Œç”±äºobjæœ¬èº«ä¸å­˜åœ¨valueå±æ€§")])]),t._v(" "),a("li",[a("span",{staticStyle:{color:"blue"}},[t._v("å®ƒç»§æ‰¿çš„proxyå¯¹è±¡ä¸­å­˜åœ¨valueçš„å±æ€§è®¿é—®æ“ä½œç¬¦ï¼Œæ‰€ä»¥ä¼šå‘ç”Ÿå±è”½æ•ˆæœ")])]),t._v(" "),a("li",[a("span",{staticStyle:{color:"blue"}},[t._v("æ­¤æ—¶ä¼šè§¦å‘proxyä¸Šçš„get value()å±æ€§è®¿é—®æ“ä½œ")])]),t._v(" "),a("li",[a("span",{staticStyle:{color:"blue"}},[t._v("åŒæ—¶ç”±äºè®¿é—®äº†proxyä¸Šçš„valueå±æ€§è®¿é—®å™¨ï¼Œæ‰€ä»¥æ­¤æ—¶ä¼šè§¦å‘geté™·é˜±")])]),t._v(" "),a("li",[a("span",{staticStyle:{color:"blue"}},[t._v("è¿›å…¥é™·é˜±æ—¶, targetä¸ºæºå¯¹è±¡ä¹Ÿå°±æ˜¯parentï¼Œkeyä¸ºvalue")])]),t._v(" "),a("li",[a("span",{staticStyle:{color:"blue"}},[t._v("é™·é˜±ä¸­è¿”å›Reflect.get(target, key) ç›¸å½“äºtarget[key]")])]),t._v(" "),a("li",[a("span",{staticStyle:{color:"blue"}},[t._v("æ­¤æ—¶ï¼Œä¸çŸ¥ä¸è§‰ä¸­thisæŒ‡å‘åœ¨geté™·é˜±ä¸­è¢«å·å·ä¿®æ”¹æ‰äº†!!!!")])]),t._v(" "),a("li",[a("span",{staticStyle:{color:"blue"}},[t._v("åŸæœ¬è°ƒç”¨æ–¹çš„objåœ¨é¦™ç²¾ä¸­å‘—ä¿®æ”¹æˆä¸ºäº†å¯¹åº”çš„targetä¹Ÿå°±æ˜¯parent")])]),t._v(" "),a("li",[a("span",{staticStyle:{color:"blue"}},[t._v("è‡ªç„¶è€Œç„¶çš„æ‰“å°å‡ºäº†å¯¹åº”çš„parent[value]ä¹Ÿå°±æ˜¯19Qingfeng")])])]),t._v(" "),a("p",[t._v("è¿™æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æœŸæœ›çš„ç»“æœï¼Œå½“æˆ‘è®¿é—® obj.value æ—¶ï¼Œæˆ‘å¸Œæœ›åº”è¯¥æ­£ç¡®è¾“å‡ºå¯¹åº”çš„è‡ªèº«ä¸Šçš„ name å±æ€§ä¹Ÿå°±æ˜¯æ‰€è°“çš„ obj.value => wang.haoyu ã€‚")]),t._v(" "),a("p",[t._v("é‚£ä¹ˆï¼ŒReflectä¸­geté™·é˜±çš„receiverå°±å¤§æ˜¾ç¥é€šäº†")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" parent "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'19Qingfeng'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" handler "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" receiver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// return Reflect.get(target, key);")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Reflect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" receiver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" proxy "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Proxy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("parent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" handler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wang.haoyu'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¾ç½®objç»§æ‰¿ä¸parentçš„ä»£ç†å¯¹è±¡proxy")]),t._v("\nObject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setPrototypeOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" proxy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// wang.haoyu")]),t._v("\n")])])]),a("p",[t._v("ä¸Šè¿°ä»£ç åŸç†å¾ˆç®€å•")]),t._v(" "),a("ul",[a("li",[a("span",{staticStyle:{color:"red"}},[t._v("é¦–å…ˆï¼Œä¹‹å‰æˆ‘ä»¬æåˆ°è¿‡Proxyä¸­geté™·é˜±çš„receiverä¸ä»…ä»…ä¼šè¡¨ç¤ºä»£ç†å¯¹è±¡æœ¬èº«åŒæ—¶ä¹Ÿè¿˜æœ‰å¯èƒ½è¡¨ç¤ºç»§æ‰¿ä¸ä»£ç†å¯¹è±¡çš„å±æ€§ï¼Œå…·ä½“éœ€è¦åŒºåˆ«äºè°ƒç”¨æ–¹ã€‚è¿™é‡Œæ˜¾ç„¶å®ƒæ˜¯æŒ‡å‘ç»§æ‰¿ä¸ä»£ç†å¯¹è±¡çš„obj")])]),t._v(" "),a("li",[a("span",{staticStyle:{color:"red"}},[t._v("å…¶æ¬¡ï¼Œ"),a("strong",[t._v("æˆ‘ä»¬åœ¨Reflectä¸­geté™·é˜±ä¸­ç¬¬ä¸‰ä¸ªå‚æ•°ä¼ é€’äº†Proxyä¸­çš„receiverä¹Ÿå°±æ˜¯objä½œä¸ºå½¢å‚ï¼Œå®ƒä¼šä¿®æ”¹è°ƒç”¨æ—¶çš„thisæŒ‡å‘")])])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("ä½ å¯ä»¥ç®€å•çš„å°† Reflect.get(target, key, receiver) ç†è§£æˆä¸º target[key].call(receiver)ï¼Œä¸è¿‡è¿™æ˜¯ä¸€æ®µä¼ªä»£ç ï¼Œä½†æ˜¯è¿™æ ·ä½ å¯èƒ½æ›´å¥½ç†è§£ã€‚")])]),t._v(" "),a("p",[t._v("ç›¸ä¿¡çœ‹åˆ°è¿™é‡Œä½ å·²ç»æ˜ç™½ Relfect ä¸­çš„ receiver ä»£è¡¨çš„å«ä¹‰æ˜¯ä»€ä¹ˆäº†ï¼Œæ²¡é”™å®ƒæ­£æ˜¯å¯ä»¥ä¿®æ”¹å±æ€§è®¿é—®ä¸­çš„ this æŒ‡å‘ä¸ºä¼ å…¥çš„ receiver å¯¹è±¡ã€‚")]),t._v(" "),a("h2",{attrs:{id:"æ€»ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[t._v("#")]),t._v(" æ€»ç»“")]),t._v(" "),a("p",[t._v("ç›¸ä¿¡çœ‹åˆ°è¿™é‡Œå¤§å®¶å·²ç»æ˜ç™½äº†ï¼Œä¸ºä»€ä¹ˆProxyä¸€å®šé…åˆReflectä½¿ç”¨ã€‚"),a("span",{staticStyle:{color:"blue"}},[t._v("æ°æ°æ˜¯ä¸ºä»€ä¹ˆè§¦å‘ä»£ç†å¯¹è±¡çš„åŠ«æŒæ—¶ä¿è¯æ­£ç¡®çš„thisä¸Šä¸‹æ–‡æŒ‡å‘")])]),t._v(" "),a("p",[t._v("æˆ‘ä»¬ç¨ç¨ä¼šè®®ä¸€ä¸‹ï¼Œé’ˆå¯¹äºgeté™·é˜±(å½“ç„¶setå…¶ä»–ä¹‹ç±»è®¾è®¡åˆ°receiverçš„é™·é˜±åŒç†)ï¼š")]),t._v(" "),a("ul",[a("li",[a("span",{staticStyle:{color:"red"}},[t._v("Proxyä¸­æ¥å—çš„Receiverå½¢å‚è¡¨ç¤ºä»£ç†å¯¹è±¡æœ¬èº«æˆ–è€…ç»§æ‰¿ä¸ä»£ç†å¯¹è±¡çš„å¯¹è±¡")])]),t._v(" "),a("li",[a("span",{staticStyle:{color:"red"}},[t._v("Reflectä¸­ä¼ é€’çš„Receiverå®å‚è¡¨ç¤ºä¿®æ”¹æ‰§è¡ŒåŸå§‹æ“ä½œæ—¶çš„thisæŒ‡å‘")])])]),t._v(" "),a("h2",{attrs:{id:"èµ„æ–™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#èµ„æ–™"}},[t._v("#")]),t._v(" èµ„æ–™")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://juejin.cn/post/7080916820353351688",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä¸ºä»€ä¹ˆProxyä¸€å®šè¦é…åˆReflectä½¿ç”¨ï¼Ÿ"),a("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);